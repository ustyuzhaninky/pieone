
#:import os os
#:import get_hex_from_color kivy.utils.get_hex_from_color
#:import IconLeftWidget kivymd.uix.list.IconLeftWidget
#:import resource_find kivy.resources.resource_find

<ContactItem@OneLineAvatarListItem>
    icon: ""
    _txt_top_pad: "8dp"
    _txt_bot_pad: "8dp"
    height: "36dp"

    IconLeftWidget:
        icon: root.icon
        user_font_size: "18sp"


<AboutScreenView>
    
    MDBoxLayout:
        orientation: "vertical"
    
        MDTopAppBar:
            id: bar
            title: "P.I.E. ONE " + app.tr._("Menu")
            anchor_title: "center"
            icon: resource_find(f"{os.environ['PIEONE_ROOT']}/assets/images/pieone-logo.png")
            elevation: 12
            adaptive_size: True
            opposite_colors: True
            use_overflow: True
            right_action_items:
                [
                # ["cog", lambda x: app.open_settings(), app.tr._("Settings"), app.tr._("Settings")],
                ["theme-light-dark", lambda x: app.switch_theme_style(), app.tr._("Dark Mode"), app.tr._("Dark Mode")],
                ["translate-variant", lambda x: app.open_language_dialog(), app.tr._("Language"), app.tr._("Language")],
                # ["window-minimize", lambda x: Window.minimize(), app.tr._("Minimize"), app.tr._("Minimize")],
                # ["window-maximize", lambda x: self.maximize_callback(), app.tr._("Maximize"), app.tr._("Maximize")],
                ["close", lambda x: app.stop_callback(), app.tr._("Exit"), app.tr._("Exit")]
                ]
                        
            left_action_items:
                [
                ["arrow-left", lambda x: app.return_callback(x), app.tr._("Return"), app.tr._("Return")]
                ]

        ScrollView:
            
            MDList:
                padding: "12dp"
                spacing: "12dp"

                MDBoxLayout:
                    spacing: "12dp"
                    size_hint_y: None
                    height: "72dp"
                    padding: "12dp"

                    Image:
                        spacing: "12dp"
                        size_hint: None, None
                        size: "72dp", "72dp"
                        source:
                            resource_find(f"{os.environ['PIEONE_ROOT']}\\" \
                            f"assets\\images\\about_screen\\logo.png")

                    MDBoxLayout:
                        orientation: "vertical"
                        adaptive_height: True
                        spacing: "8dp"
                        pos_hint: {"center_y": .5}

                        MDLabel:
                            adaptive_height: True
                            bold: True
                            markup: True
                            font_style: "H5"
                            text:
                                app.tr._("Petrochem Imitator Example, edition [color={}]ONE[/color]").format( \
                                get_hex_from_color(app.theme_cls.primary_color) \
                                )

                        MDLabel:
                            adaptive_height: True
                            bold: True
                            text: app.tr._("Open source simulator example")
                            theme_text_color: "Hint"

                MDSeparator:

                MDLabel:
                    id: about_label
                    markup: True
                    adaptive_height: True
                    font_size: "13sp"

                MDLabel:
                    adaptive_height: True
                    bold: True
                    markup: True
                    text: app.tr._("Conta—Åts")
                    font_style: "H5"

                MDBoxLayout:
                    adaptive_height: True
                    orientation: "vertical"

                    ContactItem:
                        icon: "youtube"
                        text: app.tr._("[size=14]Official YouTube channel[/size]")

                    ContactItem:
                        icon: "twitter"
                        text: app.tr._("[size=14]Twitter channel[/size]")

                    ContactItem:
                        icon: "email"
                        text: app.tr._("[size=14]ustyuzhaninky@hotmail.com[/size]")

                Widget:
                    size_hint_y: None
                    height: "72dp"
