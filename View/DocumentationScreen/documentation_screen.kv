
#:import os os
#:import get_hex_from_color kivy.utils.get_hex_from_color
#:import IconLeftWidget kivymd.uix.list.IconLeftWidget
#:import RstDocument kivy.uix.rst.RstDocument
#:import resource_find kivy.resources.resource_find

<DocumentationScreenView>

    MDBoxLayout:
        orientation: "vertical"
        
        MDTopAppBar:
            id: bar
            title: "P.I.E. ONE " + app.tr._("Menu")
            anchor_title: "center"
            icon: resource_find(f"{os.environ['PIEONE_ROOT']}/assets/images/pieone-logo.png")
            elevation: 12
            adaptive_size: True
            opposite_colors: True
            use_overflow: True
            right_action_items:
                [
                # ["cog", lambda x: app.open_settings(), app.tr._("Settings"), app.tr._("Settings")],
                ["theme-light-dark", lambda x: app.switch_theme_style(), app.tr._("Dark Mode"), app.tr._("Dark Mode")],
                ["translate-variant", lambda x: app.open_language_dialog(), app.tr._("Language"), app.tr._("Language")],
                # ["window-minimize", lambda x: Window.minimize(), app.tr._("Minimize"), app.tr._("Minimize")],
                # ["window-maximize", lambda x: self.maximize_callback(), app.tr._("Maximize"), app.tr._("Maximize")],
                ["close", lambda x: app.stop_callback(), app.tr._("Exit"), app.tr._("Exit")]
                ]
                        
            left_action_items:
                [
                ["arrow-left", lambda x: app.return_callback(x), app.tr._("Return"), app.tr._("Return")]
                ]

        MDNavigationLayout:
            
            MDScreenManager:

                MDScreen:
                    id: box
                            
                    MDBoxLayout:
                        orientation: "vertical"
                            
                        MDSegmentedControl:
                            id: lang_segments
                            pos_hint: {"center_x": .5, "center_y": .5}
                                
                            MDSegmentedControlItem:
                                text: "en"
                                
                            MDSegmentedControlItem:
                                text: "ru"

                        MDScrollView:
                            id: browser

            MDNavigationDrawer:
                radius: (0, 16, 16, 0)
                padding: 0, 56, 12, 16
                state: "close"
                id: nav_drawer

                MDNavigationDrawerMenu:
                    id: nav_drawer_menu
                    
                    MDNavigationDrawerHeader:
                        title: app.tr._("Documentation")
                        title_font_size: "23sp"
                        source: resource_find(f"{os.environ['PIEONE_ROOT']}\\assets\\images\\logo256.png")
                        text: app.tr._("P.I.E. ONE intergrated\nuser manual")
                        spacing: "4dp"
                        padding: "12dp", 0, 0, "56dp"
